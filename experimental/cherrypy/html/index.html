<html>
<body>
  <script type="text/javascript" src="/js/jquery.min.js"></script>
  <script type="text/javascript">
    function list_properties(obj)
    {
       var propList = "";
       for(var propName in obj) {
          if(typeof(obj[propName]) != "undefined") {
             propList += (propName + ", ");
          }
       }
       alert(propList);
    }

    function run_message()
    {
      var request = $.ajax({
        url: "update",
        type: "POST",
        success : function(message)
        {
          alert(message);
        }
      });

      request.done(function(msg) {
        alert(msg);
      });

      request.fail(function(jqXHR, textStatus) {
        alert( "Request failed: " + textStatus );
      });
    }
  </script>

  <h1>Greetings</h1>
  <p>Hello ${name}!</p>
  <span id="output"></span>
  <!-- Return false is a must or else form will try to accomplish its default action -->
  <form onsubmit="run_message();return false;">
    <input type="submit"/>
  </form>
</body>
</html>
